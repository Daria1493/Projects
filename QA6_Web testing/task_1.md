## Задание 1. Клиент-серверная архитектура

### Основные компоненты многозвенной клиент-серверной архитектуры

**- КЛИЕНТ**

Программа (web / desktop), с которой работает пользователь. Нужна, чтобы превратить байты программного кода в красивую и понятную картинку, так как пользователь понимает только формы и кнопки. Если всё устройство и логика программы находится на сервере, то клиенту не нужен мощный компьютер / много памяти / места на диске и других ресурсов.

**- СЕРВЕР**

Компьютер, на который выносится вся основная бизнес-логика программы / приложения: весь код и все дополнительные материалы. Сервер приложений обрабатывает запросы от клиента, взаимодействует с сервером баз данных для получения или сохранения данных, а затем отправляет результат обратно клиенту. ***Из плюсов*** можно выделить то, что не нужно дублировать код на каждый клиенский компьютер, ведь вся основная логика вынесена на более мощный сервер (с клиентской машины освобождается куча места); данные в безопасности (вся информация о работе программы недоступна обычному пользователю); мощный сервер дешевле 100+ мощных клиентских машин. ***Из минусов***, если использовать один сервер и он "упал", на всех клиенских машинах невозможно пользоваться программой. Для предотвращения такой проблемы архитектуру усложняют - используют ***кластер серверов*** — один "упал", остальные работают. Второй минус: если хранить все данные на сервере без использования программного продукта - Баз данных, то если сервер упадет, или просто перезагрузится — вся информация будет потеряна. Все, что было в памяти, стирается при выключении системы. Третий минус: высокая стоимость оборудования.

**- БАЗА ДАННЫХ (БД)**

Отдельный программный продукт, который отвечает за хранение и управление данными приложения. Он обеспечивает целостность, безопасность и доступ к данным. Позволяет быстро делать выборки информации; сохранять информацию даже при рестарте системы. Если вдруг пропадет сеть, база зависнет, машина с базой перезагрузится, или случится что-то другое, наши изменения не пропадут. Это называется персистентность.

**- БАЛАНСИРОВЩИК**

Если в архитектуре используется кластер серверов, то чтобы клиент понимал, куда ему отправлять запрос, используют балансировщик, и  клиент сначало шлет запрос в него. Сколько бы серверов не поставили в кластер, клиенту это не интересно: у него есть один URL — адрес балансировщика. А уже балансировщик отправляет запрос тому серверу, который менее загружен. Такая схема используется для высоконагруженного приложения — когда запросов поступает так много, что один сервер с ними просто не справляется. При можно точно также балансировать базу данных: у нас может быть несколько копий баз данных на самых разных машинах, и балансировщик отправляет запросы то к одной, то ко второй.

Такая схема называется **горячий резерв** — когда у нас есть несколько серверов, работающих в параллель, и балансировщик распределяет нагрузку между ними.

При этом может быть и схема **холодного резерва** — когда у нас второй сервер является резервной копией «на всякий случай». Все запросы идут на первый сервер, второй отдыхает. 

**- КЭШИРОВАНИЕ**

Играет важную роль в повышении производительности и снижении нагрузки на серверы. Кэширование позволяет хранить копии часто запрашиваемых данных на различных уровнях архитектуры, чтобы избежать повторных обращений к исходному источнику данных. Это может быть кэш на стороне клиента, на сервере приложений или на уровне базы данных. Кэширование может быть ***на стороне клиента***: данные хранятся в браузере пользователя или в мобильном приложении - статические ресурсы / изображения, а также данные, полученных от сервера; ***на уровне сервера приложений***: хранятся часто используемые объекты, результаты вычислений или данные, полученные из базы данных; ***на уровне базы данных***: результаты запросов к базе данных.



### Отказоустойчивость систем на основе «горячего» и «холодного» резерва.

|                             | **Горячий резерв** | **Холодный резерв**|
|-----------------------------|--------------------|--------------------|
| **Определение**             | Схема, когда балансировщик отправляет запрос тому серверу, который менее загружен. Или второй вариант, когда резерв подменяет вышедший из строя компонент в автоматическом режиме.  Пусть у нас есть кластер серверов, работающих в параллель, в таком случае, балансировщик распределяет нагрузку между ними. Такая схема используется для высоконагруженного приложения — когда запросов поступает так много, что один сервер с ними просто не справляется. | Схема, при которой второй сервер является резервной копией «на всякий случай» и находится в выключенном состоянии и запускается только при необходимости.  Все запросы идут на первый сервер, второй отдыхает. Но если с первым сервером что-то случится и он выйдет из строя, балансировщик перенаправит нагрузку на второй сервер. В это время у администраторов будет время разобраться с проблемой на сервере 1. |
| **Основные характеристики** | <ul> <li> **Готовность:** резервный сервер постоянно включен.<li> **Синхронизация данных:** синхронизирован с основным и готов принять на себя нагрузку в любой момент.<li> **Время переключения:** немедленно (время простоя 0–5 минут)заменяет основной в случае сбоя.<li> **Стоимость:** дорогой в реализации и обслуживании, требует постоянного мониторинга.<ul> |  <ul>  <li>**Готовность:** находится в отключенном состоянии.<li>**Синхронизация данных:** требует времени для запуска и ввода в эксплуатаци, может привести к значительному перерыву в работе системы.<li> **Время переключения:** требуется время на запуск и настройку резервного сервера (время простоя от часа до суток).<li> **Стоимость:** Менее затратный в плане  ресурсов и стоимости, так как резервный сервер не потребляет энергию и  не нуждается в постоянном мониторинге. <ul> |
| **Плюсы** | <ul>  <li>мгновенная готовность к работе<li> подходит для высоконагруженных систем (банки, биржи)<ul> | <ul>  <li> холодный резерв дешевле в реализации<li> простота развертывания <ul>|
| **Минусы**                  | <ul> <li> более высокая стоимость, так как резервный компонент всегда находится в активном состоянии и потребляет ресурсы <ul>| <ul> <li> требуется время на запуск и настройку резервного сервера <li> введение в работу холодного резервного элемента подразумевает потерю контроля над технологическим процессом <li> риск устаревания данных <ul>|
